Что такое Компонент высшего порядка (Higher-Order Component, HOC)?
=====================

Говоря просто, **компонент высшего порядка** — это функция, которая **принимает компонент и возвращает новый компонент**. HOC часто встречаются в сторонних библиотеках, например connect в Redux и createFragmentContainer в Relay.

Давайте реализуем функцию withSubscription — она будет создавать компоненты и подписывать их на обновления DataSource (наподобие CommentList и BlogPost). Функция будет принимать оборачиваемый компонент и через пропсы передавать ему новые данные.

Первый параметр — это **оборачиваемый компонент**. Второй — **функция**, которая извлекает нужные нам данные, она получает DataSource и текущие пропсы.

Заметьте, что HOC ничего не меняет и не наследует поведение оборачиваемого компонента, вместо этого HOC оборачивает оригинальный компонент в контейнер посредством композиции. HOC является **чистой функцией без побочных эффектов**. Вот и всё! Оборачиваемый компонент получает все пропсы, переданные контейнеру, а также проп data. Для HOC не важно, как будут использоваться данные, а оборачиваемому компоненту не важно, откуда они берутся.
